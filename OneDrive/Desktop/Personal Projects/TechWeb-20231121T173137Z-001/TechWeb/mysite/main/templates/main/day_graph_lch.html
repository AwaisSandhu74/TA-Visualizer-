{% extends 'main/base.html' %}
{% load extras %}

{% block content %}
<br />
<div style="text-align: center;">
    <h2>{{ ticker }} {{ period }} Day Low, Close, and High Graph</h2>
    <hr />
    <p style="margin-top: 10px;">
        <h4 style="display: inline;">About {{ ticker }}:</h4> {{ description }}
    </p>
    <div style="display: inline-block;">
        {{ interactive_plot|safe }}
    </div>
    <p style="margin-top: 20px;">
        <h4 style="display: inline;"> About This Graph:</h4> This graph provides a comprehensive view of the stock's performance, displaying the closing, low, and high prices over the specified {{ period }} day window. Analyzing this data is essential for understanding price trends, identifying potential entry or exit points, and making well-informed investment decisions. Whether you're a seasoned trader or a long-term investor, this graphical representation of historical price movements offers valuable insights into the stock's volatility and overall market behavior. Stay ahead of the curve and use this data to refine your trading strategies or guide your investment choices.
    </p>
    <p style="margin-top: 20px;">
        <h4 style="display: inline;"> General Stock Information</h4>
    </p>
    <hr/>
    <table style="border-collapse: collapse; width: 100%;">
        <thead>
            <tr>
                <th style="border: 1px solid #ddd; padding: 8px; background-color: #f2f2f2; text-align: left;">Attribute</th>
                <th style="border: 1px solid #ddd; padding: 8px; background-color: #f2f2f2; text-align: left;">Value</th>
            </tr>
        </thead>
        <tbody>
            {% for key, value in table_data.items %}
            <tr>
                <td style="border: 1px solid #ddd; padding: 8px; text-align: left;">{{ key }}</td>
                <td style="border: 1px solid #ddd; padding: 8px; text-align: left;">{{ value }}</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
    <p style="margin-top: 20px;">
        <h4 style="display: inline;"> Income Statement Information (Quarterly Basis) </h4>
    </p>
    <hr />
    <table style="border-collapse: collapse; width: 100%;">
        <thead>
            <tr>
                <th style="border: 1px solid #ddd; padding: 8px; background-color: #f2f2f2; text-align: left;">Attribute</th>
                {% for key, value in income.items %}
                {% if key == 'fiscalDateEnding' %}
                <th style="border: 1px solid #ddd; padding: 8px; background-color: #f2f2f2; text-align: left;">{{ value|get_index:0 }}</th>
                <th style="border: 1px solid #ddd; padding: 8px; background-color: #f2f2f2; text-align: left;">{{ value|get_index:1 }}</th>
                <th style="border: 1px solid #ddd; padding: 8px; background-color: #f2f2f2; text-align: left;">{{ value|get_index:2 }}</th>
                <th style="border: 1px solid #ddd; padding: 8px; background-color: #f2f2f2; text-align: left;">{{ value|get_index:3 }}</th>
                {% endif %}
                {% endfor %}
            </tr>
        </thead>
        <tbody>
            {% for key, value in income.items %}
            {% if key != 'fiscalDateEnding' %}
            <tr>
                <td style="border: 1px solid #ddd; padding: 8px; text-align: left;">{{ key }}</td>
                <td style="border: 1px solid #ddd; padding: 8px; text-align: left;">{{ value|get_index:0 }}</td>
                <td style="border: 1px solid #ddd; padding: 8px; text-align: left;">{{ value|get_index:1 }}</td>
                <td style="border: 1px solid #ddd; padding: 8px; text-align: left;">{{ value|get_index:2 }}</td>
                <td style="border: 1px solid #ddd; padding: 8px; text-align: left;">{{ value|get_index:3 }}</td>
            </tr>
            {% endif %}
            {% endfor %}
        </tbody>
    </table>
    <p style="margin-top: 20px;">
        <h4 style="display: inline;"> Balance Sheet Information (Quarterly Basis) </h4>
    </p>
    <hr />
    <table style="border-collapse: collapse; width: 100%;">
        <thead>
            <tr>
                <th style="border: 1px solid #ddd; padding: 8px; background-color: #f2f2f2; text-align: left;">Attribute</th>
                {% for key, value in balance.items %}
                {% if key == 'fiscalDateEnding' %}
                <th style="border: 1px solid #ddd; padding: 8px; background-color: #f2f2f2; text-align: left;">{{ value|get_index:0 }}</th>
                <th style="border: 1px solid #ddd; padding: 8px; background-color: #f2f2f2; text-align: left;">{{ value|get_index:1 }}</th>
                <th style="border: 1px solid #ddd; padding: 8px; background-color: #f2f2f2; text-align: left;">{{ value|get_index:2 }}</th>
                <th style="border: 1px solid #ddd; padding: 8px; background-color: #f2f2f2; text-align: left;">{{ value|get_index:3 }}</th>
                {% endif %}
                {% endfor %}
            </tr>
        </thead>
        <tbody>
            {% for key, value in balance.items %}
            {% if key != 'fiscalDateEnding' %}
            <tr>
                <td style="border: 1px solid #ddd; padding: 8px; text-align: left;">{{ key }}</td>
                <td style="border: 1px solid #ddd; padding: 8px; text-align: left;">{{ value|get_index:0 }}</td>
                <td style="border: 1px solid #ddd; padding: 8px; text-align: left;">{{ value|get_index:1 }}</td>
                <td style="border: 1px solid #ddd; padding: 8px; text-align: left;">{{ value|get_index:2 }}</td>
                <td style="border: 1px solid #ddd; padding: 8px; text-align: left;">{{ value|get_index:3 }}</td>
            </tr>
            {% endif %}
            {% endfor %}
        </tbody>
    </table>
</div>
{% endblock %}